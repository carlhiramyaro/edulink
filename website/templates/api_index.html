<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Search</title>
</head>
<body>
  <h1>Search</h1>
  <form action="/search" method="POST">
    <input type="text" name="searchdata" placeholder="Enter prefared subject">
    <button type="submit">Search</button>
  </form>
  <div id="results"></div>

  <script>
    const form = document.querySelector('form');
    const resultsContainer = document.getElementById('results');

    form.addEventListener('submit', event => {
      event.preventDefault();
      const formData = new FormData(form);
      const searchQuery = formData.get('searchdata');

      fetch('/search', {
        method: 'GET',
        body: formData
      })
      .then(response => response.json())
      .then(data => displayResults(data))
      .catch(error => console.error('Error fetching data:', error));
    });

    function displayResults(books) {
      resultsContainer.innerHTML = '';

      if (!books || books.length === 0) {
        resultsContainer.innerHTML = '<p>No results found.</p>';
        return;
      }

      books.forEach(book => {
        const bookInfo = book.volumeInfo;
        const title = bookInfo.title;
        const authors = bookInfo.authors ? bookInfo.authors.join(', ') : 'Unknown';
        const description = bookInfo.description || 'No description available';
        const thumbnail = bookInfo.imageLinks?.thumbnail || 'https://via.placeholder.com/128x200';

        const bookDiv = document.createElement('div');
        bookDiv.classList.add('book');
        bookDiv.innerHTML = `
          <img src="${thumbnail}" alt="${title}">
          <h2>${title}</h2>
          <p><strong>Author(s):</strong> ${authors}</p>
          <p>${description}</p>
        `;
        resultsContainer.websiteendChild(bookDiv);
      });
    }
  </script>
</body>
</html>

     